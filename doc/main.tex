\documentclass[a4paper,]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[mode=buildnew]{standalone}
\usepackage{tikz}
\usepackage[showframe=false]{geometry}
\usepackage{fancyhdr,lastpage,setspace,graphicx,amsmath,amsfonts}
        \pagestyle{fancy}
	\setlength{\headheight}{30pt}
	\allowdisplaybreaks{}
%\usepackage[section]{placeins}
\usepackage[
	tracking=true,
	kerning=true,
	spacing=true
	]{microtype}
\usepackage[
	hidelinks,
	unicode=true
	]{hyperref}
	\urlstyle{sf}
\usepackage[nodayofweek]{datetime}
\usepackage{libertine}
\usepackage[scaled=0.89]{inconsolata}

\newdate{due}{12}{12}{2019}

\begin{document}

\lhead{M. Møller, J. Egerberg, T. Stenhaug, K. K. Mikkelsen}
\chead{}
\rhead{DM571\\\yyyymmdddate\displaydate{due}}
\lfoot{SDU\includegraphics[height=1.8ex]{SDUinline}}
\cfoot{}
\rfoot{Side \thepage{} af~\pageref{LastPage}}

\title{DM565\\Software Innovation Project}
\date{\displaydate{due}}
\author{
  Jacob Egerberg (\texttt{jaege16} / 210597) \\
  Kasper Kirkegaard Mikkelsen (\texttt{kamik17} / 281189) \\
  Marcus Møller (\texttt{moell17} / 251296) \\
  Thomas Stenhaug (\texttt{tsten16} / 220573)}

\maketitle

\vspace*{\fill}
\begin{center}
  \includegraphics[width=1.05\textwidth]{SDUlogo.pdf}
\end{center}

\thispagestyle{empty}
\newpage

\tableofcontents
\newpage

\pagenumbering{arabic}

\section{Idé beskrivelsen}
Ambrosia er en hjemmeside til planlægning af din uge med sunde, billige måltider og fitness. Efter oprettelse som bruger, vil du bedes indtaste diverse informationer om dig, din hverdag og din kropstype. Hvor høj du er, hvor meget du vejer, hvor aktiv er du i hverdagen, hvor meget vil du tabe dig eller hvor meget vil du tage på? Er du ude på at blive muskuløs, forbedre din kondition eller bare leve sundere? Derefter vil hjemmesiden generere et forslag til din uge, med måltider, træninger og indkøb på baggrund af dine mål. 

Til hvert måltid vil vi stille 3-4 opskrifter til rådighed så har et par muligheder at vælge imellem alt efter deres præferencer. Når en bruger vælger et måltid fra deres muligheder, vil opskriftens næringsindhold være tilgængeligt samt en liste over ingredienser og hvor de kan købes billigst. 

Træningernes type og frekvens vil også afhænge af hvad dit mål som bruger er. Løbetræning og anden konditræning vil blive foreslået til brugere der vil forbedre deres kondition, mens vægttræning vil blive vist for brugere der forsøger at bygge muskelmasse. 

Når vores standard opskrifter og træningsprogrammer ikke længere er tilstrækkelige for nye brugere, vil det være muligt at begå sig i vores community sektion. I denne sektion vil det være muligt at dele og udforske hvad resten af brugerbasen deler af opskrifter og træningsprogrammer med funktionalitet til bedømmelse af disse. 

De beskrevne funktioner mixes til en samlet og simpel ugeplan der beskriver din uge som sundt og aktivt menneske.

\newpage
\section{Præsentation og evaluering af idéen}

\subsection{Value Proposition}
Basisværdien i vores produkt ligger i en fuldstændig “seamless” samling af funktionalitet som præsenteres som en samlet plan over din uge med måltider og træning. 

Hvis man er træt af at planlægge aftensmad, eller hvis dovenskaben tager overhånd og man vælger usunde muligheder, vil Ambrosia være en klar og problemfri ændring man ikke behøver at tænke specielt længe over. Det kræver blot oprettelse og derefter er det nemt at logge ind og få adskillige sunde mad forslag der passer ind i præcist det skræddersyede program der automatisk er blevet oprettet for dig. 

Denne værdi kommer blandt andet fra en stor database af opskrifter og ingredienser. Det er nemt at holde styr på kalorieindtag og om du får nok protein og fedt i din kost. Samtidig, hvis du ikke er interesseret i at holde styr på alle de tal, kan du blot følge opskriftsforslagene og så sørger systemet for at du indtager de næringsstoffer som er nødvendige for at du når dit fitness mål. Om det så er forbedring af kondition eller øgen af muskelmasse er ingen sag med vores service. 

Hvis samme problem opstår når du vil planlægge din træning, stiller vi også 4 standardprogrammer klar som nemt kan følges. 

\subsection{Customer Relationships}
Hjemmesiden kommer næsten udelukkende til at foregå som self-service og med automated services. Vi stiller blot funktionalitet til rådighed som automatisk skaber den brugeroplevelse som passer den individuelle bruger bedst. Vores service skal derfor være simpel og let at benytte med en intuitiv user interface og let navigerbare menuer. Samtidig skaber vi også plads til kundeforhold i form af “communities”, da brugere vil kunne oprette programmer til deling. 

Dybere i forløbet, vil vi gerne stille en supportafdeling til rådighed som en form for “personal assistance” i forhold til problemer eller spørgsmål til vores service. 

\subsection{Customer Segments}
Med vores service rammer vi klart et meget segmenteret marked, som dog er samlet under en niche, nemlig et ønske om at leve sundere og opnå en eller anden form for fitness eller træningsmål. Segmenteringen sker i form af de forskellige mål brugere kan have med deres træning og kost. Det er vigtig at vi markedsføre servicen som rettet mod fitness interesserede som vores samlede målgruppe.  Ifølge Facilitetsdatabasen.dk er der i Danmark pt. over 1.400 Fitness centre i danmark, med et estimeret antal medlemmer på mere end en million mennesker. Det vil sige vi vil kunne ramme et stort segment af mennesker i Danmark af fitness interesserede. Selvom der så kan være mange forskellige grunde til at gå i et fitness center, og derfor mange forskellige mål for træning, vil brugere opdage at servicen kan målrettes specifikt til deres behov.

\subsection{Channels}
For at ramme vores målgrupper og skabe aktivitet på siden, vil vi benytte os af forskellige reklame services på internettet som udgangspunkt. Det er vigtig at vi sørge for at optimere siden så meget som muligt i forhold til at være synlige gennem søgemaskiner som google. Samtidig må vi som udgangspunkt overveje en udgift fra start til brug på en reklamekampagne på sociale medier og gennem googles reklameservice.

Servicen selv vil naturligvis blot blive leveret gennem nem adgang via internettet. Så feedback og kontakt til brugerne vil selvfølgelig også foregå på samme vis i form af funktionalitet til at bedømme vores service og gennem den førnævnte support.

\subsection{Revenue Streams}
Den simpleste og mest indlysende indkomstkilde, meget i stil med andre lignende online services, kommer til at foregå enten gennem salg af reklamer på vores side eller fra direkte betaling fra brugerne i form af et abonnement på siden. Begge disse muligheder kunne i teorien fungere, men som udgangspunkt har vi vurderet at markedsføring af vores service som gratis er den klare vinder, når vi forsøger at starte fra fuldkommen ukendthed. 

En mulighed senere i forløbet, efter vi har samlet en respektabel brugerbase, ville være at gøre et månedsabonnement tilgængeligt for at slippe for reklamerne samt mulig ekstra funktionalitet til betalende medlemmer. 

\subsection{Key Partners}
Vores partner indledningsvis vil kun være i forbindelse med reklamer til både indkomst og markedsføring. Disse vil være google ads og annonceaftaler med facebook, instagram og snapchat. Når vi har skabt et en selvkørende service, vil vi gerne sikre samarbejde med diverse supermarkeder i aftaler om deling af tilbuds information som vi kan benytte i vores service.

\subsection{Key Activities}
Den vigtigste aktivitet til at udføre og vedligeholde vores value proposition er indsamling af alt den nødvendige information og gøre det let tilgængeligt for brugere. Dette vil foregå gennem web scraping af opskrift hjemmesider og gennem et åbent datasæt hentet fra Frida Food Data hvor næringsindhold af de fleste danske madvare er tilgængelige. Disse samles til en database som vi bruger til den ovenfor beskrevne funktionalitet. 

\subsection{Key Resources}
For at gøre de ovennævnte “activities” mulige skal vi som sagt bruge opskriftsinformation fra dk-kogebogen.dk som vi gennem ugeplanen gør tilgængelige til brugere efter at have filtreret på de kriterier som passer i brugerens mad-/træningsplan. Vi synkronisere disse opskrifter og deres ingredienser med alt madvare informationen tilgængelig i datasættet fra Frida Food Data frida.fooddata.dk.

\subsection{Cost Structure}
Vores forretning kommer som udgangspunkt til at være Cost-driven. Servicen skal forblive så billig som mulig og det er derfor vigtigt at vi holde omkostninger på et minimum. Når der er tale om en hjemmeside, skal vi fra start kunne vedligeholde webstedets domæne af branding årsager, samt betale udgifter til serverhosting af vores side. For overhovedet at tiltrække kunder skal vi også betale for diverse markedsførings services beskrevet tidligere. 

Inden servicen rigtig kommer i luften, er det sandsynligt at vores team, som på nuværende tidspunkt kun består af os fire i gruppen, er villige og har mulighed for at udvikle hjemmesiden gratis. Derved slipper vi for en ekstra udgift i form af at betale for udviklingen hvilket jo er hele pointen i et developer start-up af denne facon. Der estimeres at vi nok skulle bruge en 50 mandetimer på udviklingen.

Som udgangspunkt regner vi med at de nødvendige opstartsomkostninger kommer ud af egen lomme eller ved hjælp at et lån, indtil servicen er populær nok til at tiltrække eventuelle investorer eller vi bliver opkøbt. 


\newpage
\section{Implementation}

Al koden kan findes på: https://github.com/karvus/dm565-sip/tree/master/src, og består af 163 linjer kode samt en masse data. Vi har fokuseret på at få data behandlingsdelen af projektet op at køre som et POC.

\subsection{Scraping}
For at kunne fylde opskrift sektionen lidt bedre ud, inden der kommer
brugere til platformen, har vi valgt at scrape en masse opskrifter fra
dk-kogebogen.dk. Alle ingredienser der anvendes, kan også findes i en
database fra \url{http://frida.fooddata.dk}. Der er som udgangspunkt 3 endpoints vi
scraper fra.
\begin{verbatim}
  https://www.dk-kogebogen.dk/opskrifter/retter-3.php?id=%d&limit=%d&order=karakter-antal
\end{verbatim}
er URL’en til en kategori med oversigt over opskrifter. Her vælger vi
en kategori ID der indeholder spændende opskrifter og bruger limit til
at vælge hvilken side (hvis der er flere sider af opskrifter).
Det næste er URL’en til opskriften som findes på kategori siderne
\begin{verbatim}
https://www.dk-kogebogen.dk/opskrifter/%d/
\end{verbatim}
Her findes
information om ingredienser og instruktioner, samt kommentarer og
vurderinger fra brugere af hjemmesiden.
Den sidste URL er
\begin{verbatim}
https://www.dk-kogebogen.dk/opskrifter/naeringsberegning.php?id=%d
\end{verbatim}
hvor vi finder information om næringsindhold.

Det er ikke alle kategorier på siden der har spændende opskrifter, og det er ikke alle opskrifter, der har næringsindhold inkluderet, så vi har valgt kun at scrape fra nogle af kategorierne. 

Vi har scrapet ved at anvende \textit{BeautifulSoup4} til
\textit{Python 3}. Vi har valgt at scrape fra denne side på baggrund
af, hvor let den kan scrapes, da alle siderne følger samme format. Vi
kigger først igennem en kategori, og identificere alle næringsindhold
ikoner, så vi kan finde de opskrifter der har den information. 2
elementer nede kan vi så finde linket til opskriften, og vi kan bruge
et simpelt regulært udtryk til at finde ID’en. Dette gøres for alle
vores kategorierer. En separat metode håndterer herefter selve
scrapingen af opskriften, hvis ikke den allerede er gemt.

Scraping af opskriften foregår henover 2 \texttt{GET} requests, da
næringsindhold findes på en separat side. I den første request til
selve opskriften findes titel, instruktioner og ingredienser. De
første 2 er lette at finde, da det bare er første instans af
henholdsvis \texttt{H1} og \texttt{P} tags. Ingredienserne findes ved
at finde den første tabel med en \texttt{cellpadding} attribut
defineret. Hver ingrediens findes i en tabelrække og er splittet ind i
3 celler, der indeholder mængde, enhed og navn på ingrediensen.

Den sidste del af scrapingen, er at finde næringsindholdet. At finde
den totale energi kræver at man søger igennem hele dokumentet og
finder det via et regulært udtryk, da det ikke findes under noget
bestemt tag. Den resterende information kan findes meget let, da de
har unikke itemprop attributter. Informationen samles i et dictionary
som let kan eksporteres til JSON data.

Det store arbejde i vores scraping har primært ligget i, at gennemse
kilde koden på hver af siderne, og identificere elementerne og mønstre
der indeholder vores data.

\subsection{Fremdtidige retninger}

I øjeblikket fodres dataene fra dk-kogeboken.dk ind i en SQL-database,
og dataerne fra Frida er konverteret til CSV-format, og importeres i
en \textit{pandas} \texttt{DataFrame}.  Herfrfa har vi mulighed til at
lænke disse data op mod hinanden.

Det er interessant at scrape, eller på anden måde få tilgang til, flere
opskriftsdatabaser.  Der er tilfælde hvor vi selv vil være nødt til
at bestemme næringsværdier for måltider.

Med udgangspunkt i Frida-databasen, kan dette bestemmes, givet at vi
kan matche ingredienserne fra forskellige kilder, med dataerne i
Frida-databasen.  En mulig måde at opnå dette på, er ved
\textit{Bayesian Classification}.  Her vil vi bruge manpower til at gå
igennem et antal opskrifter, hvor ingredienser i opskrifterne
betragtes som kandidater, og ingredienser i Frida-databasen betragtes
som klasser.  Med tiden vil classifieren selv kunne håndtere ny input.

Alt dette backend skal så selvfølgelig sammenkobles til en hjemmeside i sidste ende, hvor brugere kan tilgå vores service.

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
